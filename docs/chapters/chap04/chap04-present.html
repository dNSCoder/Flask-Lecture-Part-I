<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chap 04 - JSON Schema ‚Üí DB Mapping (SQLAlchemy) + Blueprints (Slides)</title>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../assets/css/common.css">
  <link rel="stylesheet" href="../../assets/css/presentation.css">
</head>
<body class="presentation">
  <div id="progressBar" class="progress-bar" style="width:0%"></div>

  <div class="back-links">
    <a href="chap04-doc.html">üìÑ ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</a>
    <a href="../../index.html">üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
  </div>

  <div class="slide-container">
<div class="slide title-slide">
      <h1>‡∏ö‡∏ó‡∏ó‡∏µ‡πà 4</h1>
      <h2>11A JSON Schema ‚Üí 11B DB Mapping</h2>
      <p class="subtitle">Project-ready: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‚Üí ‡∏ó‡∏≥ DB ‚Üí ‡∏ó‡∏≥ CRUD</p>
    </div>
<div class="slide section-slide">
      <h1>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å ‚Äú‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‚Äù ‡∏Å‡πà‡∏≠‡∏ô</h1>
      <div class="content">
        <ul>
          <li>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ä‡∏±‡∏î ‚Üí UI ‡∏ä‡∏±‡∏î ‚Üí Route ‡∏ä‡∏±‡∏î ‚Üí DB ‡∏ä‡∏±‡∏î</li>
          <li>‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≠‡∏ö</li>
        </ul>
        <div class="key-point">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏ó‡∏≥ 2 ‡∏≠‡∏¢‡πà‡∏≤‡∏á: 11A JSON ‡πÅ‡∏•‡∏∞ 11B DB mapping</div>
      </div>
    </div>
<div class="slide content-slide">
      <h1>11A: JSON Schema (‡∏¢‡πà‡∏≠)</h1>
      <div class="content">
        <pre><code>{
  "required": ["title","reporter_name","location","status"],
  "properties": {
    "id": {"type":"integer"},
    "title": {"type":"string"},
    "status": {"enum":["new","in_progress","done"]}
  }
}</code></pre>
        <p class="muted">‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏™‡∏±‡∏ç‡∏ç‡∏≤‚Äù ‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ó‡∏µ‡∏°</p>
      </div>
    </div>
<div class="slide content-slide">
      <h1>‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á SQLAlchemy</h1>
      <div class="content">
        <pre><code>pip install flask flask-sqlalchemy</code></pre>
        <pre><code>app.config["SQLALCHEMY_DATABASE_URI"] = "sqlite:///app.db"</code></pre>
      </div>
    </div>
<div class="slide content-slide">
      <h1>Model (DB Mapping)</h1>
      <div class="content">
        <pre><code>class RepairTicket(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    title = db.Column(db.String(200), nullable=False)
    status = db.Column(db.String(30), nullable=False, default="new")</code></pre>
        <div class="key-point">required ‚Üí nullable=False</div>
      </div>
    </div>
<div class="slide content-slide">
      <h1>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å</h1>
      <div class="content">
        <pre><code>with app.app_context():
    db.create_all()</code></pre>
        <p class="muted">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå SQLite app.db ‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á</p>
      </div>
    </div>
<div class="slide content-slide">
      <h1>CRUD ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ (Create + List)</h1>
      <div class="content">
        <pre><code>db.session.add(ticket)
db.session.commit()</code></pre>
        <pre><code>tickets = RepairTicket.query.all()</code></pre>
      </div>
    </div>

    <div class="slide content-slide">
      <h1>JSON API ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô</h1>
      <div class="content">
        <pre><code>return jsonify({"status":"ok"})</code></pre>
        <pre><code>payload = request.get_json()</code></pre>
        <p class="muted">HTML route ‡πÅ‡∏•‡∏∞ API route ‡∏≠‡∏¢‡∏π‡πà‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô Flask</p>
      </div>
    </div>


    <div class="slide content-slide">
      <h1>Blueprints (‡∏à‡∏±‡∏î‡πÇ‡∏Ñ‡πâ‡∏î)</h1>
      <div class="content">
        <pre><code>repairs_bp = Blueprint("repairs", __name__,
                       url_prefix="/repairs")</code></pre>
        <pre><code>app.register_blueprint(repairs_bp)</code></pre>
        <p class="muted">‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏ï‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà ‚Üí ‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏°‡∏î‡∏π‡∏•‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
      </div>
    </div>
<div class="slide content-slide">
      <h1>Checklist</h1>
      <div class="content">
        <ul>
          <li>‡∏°‡∏µ schema + model ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô</li>
          <li>‡∏ó‡∏≥ create/list ‡πÑ‡∏î‡πâ</li>
          <li>‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡πà‡∏≠ workshop ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="slide-counter" id="slideCounter">1 / 9</div>

  <div class="navigation">
    <button id="prevBtn" class="nav-button" aria-label="previous">‚Üê</button>
    <button id="nextBtn" class="nav-button" aria-label="next">‚Üí</button>
    <button id="fullscreenBtn" class="nav-button" aria-label="fullscreen">‚õ∂</button>
  </div>

  <script src="../../assets/js/presentation.js"></script>
</body>
</html>
